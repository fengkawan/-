<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>船舶3D爆炸图模型</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/examples/js/controls/OrbitControls.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#0A2463',
                        secondary: '#3E92CC',
                        accent: '#FF6B35',
                        dark: '#121212',
                        light: '#F8F9FA'
                    },
                },
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-shadow {
                text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            .model-container {
                perspective: 1000px;
            }
            .component-highlight {
                animation: pulse 2s infinite;
            }
            @keyframes pulse {
                0% { box-shadow: 0 0 0 0 rgba(62, 146, 204, 0.7); }
                70% { box-shadow: 0 0 0 10px rgba(62, 146, 204, 0); }
                100% { box-shadow: 0 0 0 0 rgba(62, 146, 204, 0); }
            }
        }
    </style>
</head>
<body class="font-sans bg-gray-900 text-white overflow-hidden">
    <!-- 顶部导航 -->
    <header class="fixed top-0 left-0 right-0 bg-primary/90 text-white shadow-lg z-50">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <a href="#" class="flex items-center space-x-2">
                <i class="fa fa-ship text-accent text-2xl"></i>
                <span class="text-xl font-bold">船舶3D爆炸图</span>
            </a>
            
            <div class="flex items-center space-x-4">
                <button id="helpButton" class="text-white hover:text-accent transition-colors">
                    <i class="fa fa-question-circle"></i>
                </button>
                <button id="fullscreenButton" class="text-white hover:text-accent transition-colors">
                    <i class="fa fa-expand"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- 主内容区 -->
    <main class="flex h-screen pt-16">
        <!-- 3D模型区域 -->
        <div class="w-full h-full relative bg-gradient-to-b from-gray-900 to-gray-800" id="modelContainer">
            <div class="absolute inset-0 flex items-center justify-center">
                <div class="text-center">
                    <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"></div>
                    <p class="text-gray-400">加载3D模型中...</p>
                </div>
            </div>
        </div>
        
        <!-- 组件信息侧边栏 -->
        <div class="hidden md:block w-80 bg-gray-800 border-l border-gray-700 p-6 h-full overflow-y-auto transition-all duration-300" id="infoPanel">
            <h3 class="text-xl font-bold text-white mb-4 flex items-center">
                <i class="fa fa-info-circle mr-2 text-accent"></i>组件信息
            </h3>
            
            <div id="componentInfo" class="space-y-4">
                <div class="text-center text-gray-500 py-12" id="initialInfo">
                    <i class="fa fa-hand-pointer-o text-4xl mb-4 text-gray-600"></i>
                    <p>点击3D模型中的组件查看详细信息</p>
                </div>
                
                <div id="selectedComponent" class="hidden">
                    <h4 class="text-lg font-semibold text-white mb-2" id="componentName">组件名称</h4>
                    <div class="w-10 h-0.5 bg-accent mb-3"></div>
                    <p class="text-gray-400 mb-4" id="componentDescription">组件描述将显示在这里...</p>
                    
                    <div class="grid grid-cols-2 gap-4 mb-4">
                        <div>
                            <p class="text-sm text-gray-500">材质</p>
                            <p class="font-medium text-white" id="componentMaterial">--</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">重量</p>
                            <p class="font-medium text-white" id="componentWeight">--</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">功能</p>
                            <p class="font-medium text-white" id="componentFunction">--</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">位置</p>
                            <p class="font-medium text-white" id="componentLocation">--</p>
                        </div>
                    </div>
                    
                    <div class="bg-gray-700 p-4 rounded-lg">
                        <h5 class="font-semibold text-white mb-2">技术参数</h5>
                        <ul class="space-y-1 text-sm text-gray-300" id="componentSpecs">
                            <!-- 技术参数将动态加载 -->
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- 底部控制栏 -->
    <footer class="fixed bottom-0 left-0 right-0 bg-gray-800/90 text-white p-4 flex flex-wrap items-center justify-between z-40">
        <div class="flex items-center">
            <button id="resetView" class="bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded mr-2 transition-colors">
                <i class="fa fa-refresh mr-1"></i>重置视图
            </button>
            <button id="explodeModel" class="bg-accent hover:bg-accent/90 text-white px-4 py-2 rounded transition-colors">
                <i class="fa fa-expand mr-1"></i>爆炸视图
            </button>
            <button id="toggleInfo" class="md:hidden ml-4 bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded transition-colors">
                <i class="fa fa-info-circle mr-1"></i>组件信息
            </button>
        </div>
        
        <div class="flex items-center space-x-2 ml-auto">
            <label for="explosionDistance" class="text-sm text-gray-300">爆炸距离:</label>
            <input type="range" id="explosionDistance" min="0" max="100" value="0" class="w-40 accent-accent">
            <span id="distanceValue" class="text-sm min-w-[30px]">0%</span>
        </div>
    </footer>

    <!-- 帮助模态框 -->
    <div class="fixed inset-0 bg-black/70 flex items-center justify-center z-50 hidden" id="helpModal">
        <div class="bg-gray-800 rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold text-white">使用帮助</h3>
                <button id="closeHelp" class="text-gray-400 hover:text-white">
                    <i class="fa fa-times text-xl"></i>
                </button>
            </div>
            <div class="space-y-4 text-gray-300">
                <div>
                    <h4 class="font-semibold text-white mb-2">操作指南</h4>
                    <ul class="list-disc pl-5 space-y-2">
                        <li>拖动鼠标: 旋转模型</li>
                        <li>鼠标滚轮: 缩放模型</li>
                        <li>按住Shift+拖动: 平移模型</li>
                        <li>点击组件: 查看组件详细信息</li>
                        <li>调整滑块: 控制爆炸距离</li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold text-white mb-2">功能按钮</h4>
                    <ul class="list-disc pl-5 space-y-2">
                        <li>重置视图: 恢复模型初始状态</li>
                        <li>爆炸视图: 显示模型爆炸效果</li>
                        <li>全屏模式: 进入全屏显示</li>
                        <li>组件信息: 显示/隐藏组件信息面板</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // 帮助模态框控制
        document.getElementById('helpButton').addEventListener('click', function() {
            document.getElementById('helpModal').classList.remove('hidden');
        });
        
        document.getElementById('closeHelp').addEventListener('click', function() {
            document.getElementById('helpModal').classList.add('hidden');
        });
        
        // 全屏控制
        document.getElementById('fullscreenButton').addEventListener('click', function() {
            const elem = document.documentElement;
            if (!document.fullscreenElement) {
                elem.requestFullscreen().catch(err => {
                    console.error(`全屏请求失败: ${err.message}`);
                });
                this.innerHTML = '<i class="fa fa-compress"></i>';
            } else {
                document.exitFullscreen();
                this.innerHTML = '<i class="fa fa-expand"></i>';
            }
        });
        
        // 移动端信息面板切换
        document.getElementById('toggleInfo').addEventListener('click', function() {
            const infoPanel = document.getElementById('infoPanel');
            infoPanel.classList.toggle('hidden');
            
            if (!infoPanel.classList.contains('hidden')) {
                this.innerHTML = '<i class="fa fa-times mr-1"></i>关闭';
            } else {
                this.innerHTML = '<i class="fa fa-info-circle mr-1"></i>组件信息';
            }
        });
        
        // 3D模型渲染
        document.addEventListener('DOMContentLoaded', function() {
            // 模拟3D模型加载
            setTimeout(() => {
                const modelContainer = document.getElementById('modelContainer');
                modelContainer.innerHTML = `
                    <div class="absolute inset-0 bg-black/30 flex items-center justify-center z-10">
                        <div class="text-center">
                            <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4"></div>
                            <p class="text-gray-300">3D模型加载完成</p>
                        </div>
                    </div>
                    <img src="https://picsum.photos/id/1068/1920/1080" alt="船舶3D爆炸图模型" class="w-full h-full object-contain">
                `;
                
                // 500ms后移除加载状态
                setTimeout(() => {
                    const loadingOverlay = modelContainer.querySelector('.absolute');
                    loadingOverlay.classList.add('opacity-0', 'transition-opacity', 'duration-500');
                    setTimeout(() => {
                        loadingOverlay.remove();
                    }, 500);
                }, 500);
            }, 2000);
            
            // 爆炸距离滑块
            const explosionSlider = document.getElementById('explosionDistance');
            const distanceValue = document.getElementById('distanceValue');
            
            explosionSlider.addEventListener('input', function() {
                distanceValue.textContent = `${this.value}%`;
                
                // 模拟爆炸效果
                const modelImg = document.querySelector('#modelContainer img');
                if (modelImg) {
                    const scale = 1 + (parseInt(this.value) / 100) * 0.2;
                    const blur = parseInt(this.value) / 20;
                    modelImg.style.transform = `scale(${scale})`;
                    modelImg.style.filter = `blur(${blur}px)`;
                }
            });
            
            // 重置视图按钮
            document.getElementById('resetView').addEventListener('click', function() {
                explosionSlider.value = 0;
                distanceValue.textContent = '0%';
                
                const modelImg = document.querySelector('#modelContainer img');
                if (modelImg) {
                    modelImg.style.transform = 'scale(1)';
                    modelImg.style.filter = 'blur(0)';
                }
            });
            
            // 爆炸视图按钮
            document.getElementById('explodeModel').addEventListener('click', function() {
                explosionSlider.value = 100;
                distanceValue.textContent = '100%';
                
                const modelImg = document.querySelector('#modelContainer img');
                if (modelImg) {
                    modelImg.style.transform = 'scale(1.2)';
                    modelImg.style.filter = 'blur(5px)';
                }
            });
            
            // 船舶组件数据
            const components = [
                {
                    name: '船舶发动机',
                    description: '船舶发动机是船舶的动力核心，为船舶提供推进力。现代船舶发动机通常采用柴油或天然气作为燃料，具有高效率、低排放的特点。',
                    material: '高强度合金钢',
                    weight: '约250吨',
                    function: '将燃料的化学能转化为机械能，驱动螺旋桨旋转',
                    location: '船舶底部机舱',
                    specs: [
                        '最大功率: 25,000千瓦',
                        '燃料类型: 重油/柴油',
                        '转速: 100-120转/分钟',
                        '缸径: 980毫米',
                        '冲程: 2,500毫米',
                        '效率: 45-50%'
                    ]
                },
                {
                    name: '螺旋桨',
                    description: '螺旋桨是船舶推进系统的关键部件，通过旋转将发动机的动力转化为推力，推动船舶前进。',
                    material: '镍铝青铜合金',
                    weight: '约80吨',
                    function: '将旋转运动转化为轴向推力',
                    location: '船舶尾部水下',
                    specs: [
                        '直径: 9.5米',
                        '叶片数: 5片',
                        '材质: 镍铝青铜',
                        '设计航速: 18节',
                        '效率: 65-75%',
                        '可调螺距: 是'
                    ]
                },
                {
                    name: '船体结构',
                    description: '船体是船舶的基础结构，提供浮力并保护货物和设备免受海水侵蚀。现代船体采用焊接钢结构，具有高强度和轻量化的特点。',
                    material: '高强度船用钢',
                    weight: '约20,000吨',
                    function: '提供浮力，承载货物和设备',
                    location: '整个船舶',
                    specs: [
                        '船级社规范: ABS, LR, DNV等',
                        '屈服强度: 355-460 MPa',
                        '主要材料: AH36, DH36, EH36',
                        '船体厚度: 12-50毫米',
                        '肋骨间距: 600-1200毫米',
                        '抗冰等级: ICE-1A(极地船舶)'
                    ]
                },
                {
                    name: '导航雷达',
                    description: '导航雷达是船舶重要的导航设备，用于探测周围物体、船只和障碍物，提供避碰信息。',
                    material: '铝合金外壳，电子元件',
                    weight: '约200公斤',
                    function: '通过电磁波探测目标并显示位置',
                    location: '船舶桅杆顶部',
                    specs: [
                        '工作频率: 9.41 GHz (X波段)',
                        '探测范围: 最大80海里',
                        '天线转速: 24-36转/分钟',
                        '分辨率: 方位0.5°, 距离25米',
                        '显示方式: ARPA自动标绘',
                        '数据接口: NMEA 0183/2000'
                    ]
                },
                {
                    name: '锚与锚链',
                    description: '锚与锚链是船舶停靠和固定的重要设备，用于在港口或锚地保持船舶位置。',
                    material: '铸钢(锚)，高强度钢(锚链)',
                    weight: '锚约15吨，锚链约200吨',
                    function: '通过重力和摩擦力固定船舶',
                    location: '船头两侧',
                    specs: [
                        '锚类型: 斯贝克锚(Stevin)',
                        '锚重: 15吨',
                        '锚链直径: 102毫米',
                        '锚链长度: 12节(约275米/节)',
                        '破断强度: 约5,000 kN',
                        '材质: R4级船用锚链钢'
                    ]
                }
            ];
            
            // 组件点击事件
            document.getElementById('modelContainer').addEventListener('click', function() {
                const randomComponent = components[Math.floor(Math.random() * components.length)];
                
                document.getElementById('initialInfo').classList.add('hidden');
                document.getElementById('selectedComponent').classList.remove('hidden');
                
                document.getElementById('componentName').textContent = randomComponent.name;
                document.getElementById('componentDescription').textContent = randomComponent.description;
                document.getElementById('componentMaterial').textContent = randomComponent.material;
                document.getElementById('componentWeight').textContent = randomComponent.weight;
                document.getElementById('componentFunction').textContent = randomComponent.function;
                document.getElementById('componentLocation').textContent = randomComponent.location;
                
                const specsList = document.getElementById('componentSpecs');
                specsList.innerHTML = '';
                randomComponent.specs.forEach(spec => {
                    const li = document.createElement('li');
                    li.textContent = spec;
                    specsList.appendChild(li);
                });
                
                // 在移动端自动显示信息面板
                if (window.innerWidth < 768) {
                    const infoPanel = document.getElementById('infoPanel');
                    infoPanel.classList.remove('hidden');
                    document.getElementById('toggleInfo').innerHTML = '<i class="fa fa-times mr-1"></i>关闭';
                }
            });
        });
    </script>
</body>
</html>
    